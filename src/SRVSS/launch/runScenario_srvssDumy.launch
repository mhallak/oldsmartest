<!-- -*- mode: XML -*- -->
<launch>    

	<arg name="scen" default="scenarios/scenario_1"/> 

	<arg name="scenarios_folder_url" value="$(find SRVSS)/$(arg scen)"/>
	<arg name="world_name" value="$(arg scenarios_folder_url)/scenarioEnv.world"/>
	<arg name="pause" value="-u"/>
	<arg name="record" value="-r"/>
	<arg name="record_path" value="--record_path $(arg scenarios_folder_url)"/>


<!-- synchronizing ros to gazebo -->
	<param name="/use_sim_time" value="true" />

<!-- start gazebo server-->
	<node name="gazebo" pkg="gazebo_ros" type="gzserver" respawn="false" output="screen" args="$(arg pause) $(arg world_name)" />
	
<!-- start gazebo client -->
	<node name="gazebo_gui" pkg="gazebo_ros" type="gzclient" respawn="false" output="screen"/>


<!-- srvss_Dumy -->
	<include file="$(find srvss_bobcat)/launch/srvss_bobcat.launch"/>
	<node pkg="tf" type="static_transform_publisher" name="sick_link_broadcaster" args="1 0 0.2 0 0 0 body front_sick 100" />
	<node pkg="srvss_wp_driver" type="srvss_wp_driver_node" name="srvss_wp_driver_node" args="-file $(arg scenarios_folder_url)/scenarioMission.txt" output="screen" />

<!-- start RosBag recording -->
	<node name="rosbag_recorder" pkg="rosbag" type="record" args="-a -O $(arg scenarios_folder_url)/scen_rec.bag" />


<!--
  <node pkg="srvss_wp_driver" type="srvss_greader_node" name="srvss_greader_node" />
 -->
</launch>
